@model CategoryListViewModel
@{
    object LoadSubMenu(Category category)
    {
        ICollection<Category> categories = Model.GetCategoryies(category.id);
        foreach (Category subCategory in categories)
        {

            <li>
                <a  href="/Detail/CategoryDetail?page=1&category=@subCategory.id"  class="mn-has-sub" >@subCategory.Name <i class="fa fa-angle-right right"></i></a>
                <ul class="mn-sub">
                    @LoadSubMenu(subCategory)
                </ul>
            </li>


        }
        return null;
    }
}
@{

    foreach (Category MainCategory in Model.MainCategories)
    {
        <li>
            <a asp-area="" asp-controller="Detail" asp-action="CategoryDetail" asp-route-page="1" asp-route-category="@MainCategory.id" class="mn-has-sub to-left">@MainCategory.Name <i class="fa fa-angle-right right"></i></a>
            <ul class="mn-sub">
                @LoadSubMenu(MainCategory)
            </ul>
        </li>
    }

}
